{"code":"(this[\"webpackJsonpinstagram-clone\"]=this[\"webpackJsonpinstagram-clone\"]||[]).push([[0],{101:function(e,t,a){\"use strict\";a.r(t);var n=a(2),c=a.n(n),s=a(19),o=a.n(s),i=(a(67),a(39)),r=a.n(i),l=a(50),u=a(15),p=(a(69),a(70),a(128)),d=a(24),j=d.a.initializeApp({apiKey:\"AIzaSyCHP2i2BbClrFviS_jWfiTai7U5nhfgszo\",authDomain:\"instagram-clone-94052.firebaseapp.com\",projectId:\"instagram-clone-94052\",storageBucket:\"instagram-clone-94052.appspot.com\",messagingSenderId:\"1028378616626\",appId:\"1:1028378616626:web:f75101ff41cf6739276d2b\"}).firestore(),m=d.a.auth(),b=d.a.storage(),f=a(5);var g=function(e){var t=e.postId,a=e.user,c=e.username,s=e.caption,o=e.imageURL,i=Object(n.useState)([]),r=Object(u.a)(i,2),l=r[0],m=r[1],b=Object(n.useState)(\"\"),g=Object(u.a)(b,2),h=g[0],O=g[1];return Object(n.useEffect)((function(){var e;return t&&(e=j.collection(\"posts\").doc(t).collection(\"comments\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){m(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[t]),Object(f.jsxs)(\"div\",{className:\"post\",children:[Object(f.jsxs)(\"div\",{className:\"post__header\",children:[Object(f.jsx)(p.a,{className:\"post__avatar\",alt:c,src:\"/static/images/avatar/1.jpg\"}),Object(f.jsx)(\"h3\",{children:c})]}),Object(f.jsx)(\"img\",{className:\"post__image\",src:o,alt:\"post\"}),Object(f.jsxs)(\"h4\",{className:\"post__text\",children:[Object(f.jsxs)(\"strong\",{children:[c,\"  \"]}),Object(f.jsx)(\"span\",{className:\"post__caption\",children:s}),\" \"]}),Object(f.jsx)(\"div\",{className:\"post__comments\",children:l.map((function(e){return Object(f.jsxs)(\"p\",{children:[Object(f.jsx)(\"b\",{children:e.username}),\" \",e.text]})}))}),a&&Object(f.jsxs)(\"form\",{className:\"post__commentBox\",children:[Object(f.jsx)(\"input\",{className:\"post__input\",type:\"text\",placeholder:\"Add a comment...\",value:h,onChange:function(e){return O(e.target.value)}}),Object(f.jsx)(\"button\",{disabled:!h,className:\"post__button\",type:\"submit\",onClick:function(e){e.preventDefault(),j.collection(\"posts\").doc(t).collection(\"comments\").add({text:h,username:a.displayName,timestamp:d.a.firestore.FieldValue.serverTimestamp()}),O(\"\")},children:\"Post\"})]})]})},h=a(124),O=a(125),x=a(127),v=a(126),_=(a(81),a(56)),N=a.n(_).a.create({baseURL:\"http://localhost:8080\"});var y=function(e){var t=e.username,a=Object(n.useState)(\"\"),c=Object(u.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(null),r=Object(u.a)(i,2),l=r[0],p=r[1],m=Object(n.useState)(0),g=Object(u.a)(m,2),h=g[0],O=g[1],x=Object(n.useState)(\"\"),_=Object(u.a)(x,2),y=(_[0],_[1]);return Object(f.jsxs)(\"div\",{className:\"imageupload\",children:[Object(f.jsx)(\"progress\",{className:\"imageupload__progress\",value:h,max:\"100\"}),Object(f.jsx)(\"input\",{type:\"text\",placeholder:\"Enter a Caption...\",onChange:function(e){return o(e.target.value)},value:s}),Object(f.jsxs)(\"div\",{children:[Object(f.jsx)(\"input\",{type:\"file\",onChange:function(e){e.target.files[0]&&p(e.target.files[0])}}),Object(f.jsx)(v.a,{className:\"imageUpload__button\",onClick:function(){b.ref(\"images/\".concat(l.name)).put(l).on(\"state_changed\",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);O(t)}),(function(e){console.log(e),alert(e.message)}),(function(){b.ref(\"images\").child(l.name).getDownloadURL().then((function(e){y(e),N.post(\"/upload\",{caption:s,user:t,image:e}),j.collection(\"posts\").add({timestamp:d.a.firestore.FieldValue.serverTimestamp(),caption:s,imageURL:e,username:t}),O(0),o(\"\"),p(null)}))}))},children:\"Upload\"})]})]})},w=a(57),C=a(59),S=a.n(C);function k(){return{top:\"\".concat(50,\"%\"),left:\"\".concat(50,\"%\"),transform:\"translate(-\".concat(50,\"%, -\").concat(50,\"%)\")}}var U=Object(h.a)((function(e){return{paper:{position:\"absolute\",width:400,backgroundColor:e.palette.background.paper,border:\"2px solid #000\",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var T=function(){var e=U(),t=c.a.useState(k),a=Object(u.a)(t,1)[0],s=Object(n.useState)([]),o=Object(u.a)(s,2),i=o[0],d=o[1],j=Object(n.useState)(!1),b=Object(u.a)(j,2),h=b[0],_=b[1],C=Object(n.useState)(\"\"),T=Object(u.a)(C,2),L=T[0],A=T[1],E=Object(n.useState)(\"\"),F=Object(u.a)(E,2),I=F[0],R=F[1],D=Object(n.useState)(\"\"),P=Object(u.a)(D,2),W=P[0],B=P[1],V=Object(n.useState)(null),J=Object(u.a)(V,2),Q=J[0],Z=J[1],G=Object(n.useState)(!1),Y=Object(u.a)(G,2),z=Y[0],M=Y[1];Object(n.useEffect)((function(){var e=m.onAuthStateChanged((function(e){if(e){if(console.log(e),Z(e),!e.displayName)return e.updateProfile({displayName:L})}else Z(null)}));return function(){e()}}),[Q,L]);var H=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get(\"/sync\").then((function(e){console.log(e),d(e.data)}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){new S.a(\"69305f7a54611f242df4\",{cluster:\"mt1\"}).subscribe(\"posts\").bind(\"inserted\",(function(e){console.log(\"data recieved\",e),H()}))}),[]),Object(n.useEffect)((function(){H()}),[]),console.log(\"posts are >>>\",i),Object(f.jsxs)(\"div\",{className:\"app\",children:[Object(f.jsx)(O.a,{open:h,onClose:function(){return _(!1)},children:Object(f.jsx)(\"div\",{style:a,className:e.paper,children:Object(f.jsxs)(\"form\",{className:\"app__signup\",children:[Object(f.jsx)(\"center\",{children:Object(f.jsx)(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),Object(f.jsx)(x.a,{type:\"text\",placeholder:\"username\",value:L,onChange:function(e){return A(e.target.value)}}),Object(f.jsx)(x.a,{placeholder:\"email\",type:\"text\",value:W,onChange:function(e){return B(e.target.value)}}),Object(f.jsx)(x.a,{placeholder:\"password\",type:\"password\",value:I,onChange:function(e){return R(e.target.value)}}),Object(f.jsx)(v.a,{type:\"submit\",onClick:function(e){e.preventDefault(),m.createUserWithEmailAndPassword(W,I).then((function(e){return e.user.updateProfile({displayName:L})})).catch((function(e){return alert(e.message)}))},children:\"Sign Up\"})]})})}),Object(f.jsx)(O.a,{open:z,onClose:function(){return M(!1)},children:Object(f.jsx)(\"div\",{style:a,className:e.paper,children:Object(f.jsxs)(\"form\",{className:\"app__login\",children:[Object(f.jsx)(\"center\",{children:Object(f.jsx)(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),Object(f.jsx)(x.a,{placeholder:\"email\",type:\"text\",value:W,onChange:function(e){return B(e.target.value)}}),Object(f.jsx)(x.a,{placeholder:\"password\",type:\"password\",value:I,onChange:function(e){return R(e.target.value)}}),Object(f.jsx)(v.a,{type:\"submit\",onClick:function(e){e.preventDefault(),m.signInWithEmailAndPassword(W,I).catch((function(e){return alert(e.message)})),M(!1)},children:\"Login\"})]})})}),Object(f.jsxs)(\"div\",{className:\"app__header\",children:[Object(f.jsx)(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"}),(null===Q||void 0===Q?void 0:Q.displayName)?Object(f.jsxs)(\"div\",{className:\"app__headerRight\",children:[Object(f.jsx)(v.a,{onClick:function(){return m.signOut()},children:\"Logout\"}),Object(f.jsx)(p.a,{className:\"app__headerAvatar\",alt:Q.displayName,src:\"/static/images/avatar/1.jpg\"})]}):Object(f.jsxs)(\"form\",{className:\"app__loginHome\",children:[Object(f.jsx)(v.a,{onClick:function(){return M(!0)},children:\"Login\"}),Object(f.jsx)(v.a,{onClick:function(){return _(!0)},children:\"Sign Up\"})]})]}),Object(f.jsxs)(\"div\",{className:\"app__posts\",children:[Object(f.jsx)(\"div\",{className:\"app__postsLeft\",children:i.map((function(e){return Object(f.jsx)(g,{postId:e._id,user:Q,username:e.user,caption:e.caption,imageURL:e.image},e._id)}))}),Object(f.jsx)(\"div\",{className:\"app__postsRight\",children:Object(f.jsx)(w.a,{url:\"https://www.instagram.com/p/CLPQDA2hECf/\",clientAccessToken:\"IGQVJYYWlwWDkzVWRPZA2p5cWFUclMxaXZABTFdsNWpBT2Q0YmVPUmFONkE5b3FEdktGTnNJMUoyZADdLVGxQcjRjU05RUjdQYUtDQktJN2xLT3E2TEVtTkNGZAWRTTTJ0aGY2RlE5ckJfWFBHQjdfb1VFUwZDZD\",maxWidth:320,hideCaption:!1,containerTagName:\"div\",protocol:\"\",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),(null===Q||void 0===Q?void 0:Q.displayName)?Object(f.jsx)(\"div\",{className:\"app__upload\",children:Object(f.jsx)(y,{username:Q.displayName})}):Object(f.jsxs)(\"center\",{children:[Object(f.jsx)(\"h3\",{children:\"Sorry you need to login to upload\"}),\"  \"]})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,130)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById(\"root\")),L()},67:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},81:function(e,t,a){}},[[101,1,2]]]);","name":"static/js/main.573cbd94.chunk.js","map":{"version":3,"sources":["static/js/main.573cbd94.chunk.js"],"names":["this","push","101","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","Avatar","index_esm","db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","jsx_runtime","src_Post","_ref","postId","user","username","caption","imageURL","_useState","Object","_useState2","comments","setComments","_useState3","_useState4","comment","setComment","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","className","children","alt","src","text","type","placeholder","value","onChange","e","target","disabled","onClick","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","makeStyles","Modal","Input","Button","axios","src_axios","a","create","baseURL","src_ImageUpload","setCaption","image","setImage","_useState5","_useState6","progress","setProgress","_useState7","_useState8","setUrl","max","event","files","ref","concat","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","post","es","web_pusher","pusher_default","getModalStyle","top","left","transform","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","src_App","classes","_React$useState","useState","modalStyle","posts","setPosts","open","setOpen","setUsername","password","setPassword","_useState9","_useState10","email","setEmail","_useState11","_useState12","setUser","_useState13","_useState14","openSignIn","setOpenSignIn","onAuthStateChanged","authUser","updateProfile","fetchPosts","mark","_callee","wrap","_context","prev","next","get","response","abrupt","sent","stop","apply","arguments","cluster","subscribe","bind","onClose","style","createUserWithEmailAndPassword","catch","signInWithEmailAndPassword","signOut","_id","clientAccessToken","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","src_reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById","67","exports","69","70","81"],"mappings":"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"},"input":"(this[\"webpackJsonpinstagram-clone\"] = this[\"webpackJsonpinstagram-clone\"] || []).push([[0],{\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(19);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(39);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(69);\n\n// EXTERNAL MODULE: ./src/Post.css\nvar Post = __webpack_require__(70);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 3 modules\nvar Avatar = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/firebase/dist/index.esm.js + 16 modules\nvar index_esm = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./src/Firebase.js\nvar firebaseConfig={apiKey:\"AIzaSyCHP2i2BbClrFviS_jWfiTai7U5nhfgszo\",authDomain:\"instagram-clone-94052.firebaseapp.com\",projectId:\"instagram-clone-94052\",storageBucket:\"instagram-clone-94052.appspot.com\",messagingSenderId:\"1028378616626\",appId:\"1:1028378616626:web:f75101ff41cf6739276d2b\"};var firebaseApp=index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var db=firebaseApp.firestore();var auth=index_esm[\"a\" /* default */].auth();var storage=index_esm[\"a\" /* default */].storage();\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/Post.js\nfunction Post_Post(_ref){var postId=_ref.postId,user=_ref.user,username=_ref.username,caption=_ref.caption,imageURL=_ref.imageURL;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),comments=_useState2[0],setComments=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),comment=_useState4[0],setComment=_useState4[1];Object(react[\"useEffect\"])(function(){var unsubscribe;if(postId){unsubscribe=db.collection(\"posts\").doc(postId).collection(\"comments\").orderBy('timestamp','desc').onSnapshot(function(snapshot){setComments(snapshot.docs.map(function(doc){return doc.data();}));});}return function(){unsubscribe();};},[postId]);var postComment=function postComment(e){e.preventDefault();db.collection(\"posts\").doc(postId).collection(\"comments\").add({text:comment,username:user.displayName,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setComment(\"\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"post__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{className:\"post__avatar\",alt:username,src:\"/static/images/avatar/1.jpg\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:username})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"post__image\",src:imageURL,alt:\"post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"post__text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[username,\"  \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"post__caption\",children:caption}),\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"post__comments\",children:comments.map(function(comment){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:comment.username}),\" \",comment.text]});})}),user&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"post__commentBox\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"post__input\",type:\"text\",placeholder:\"Add a comment...\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!comment,className:\"post__button\",type:\"submit\",onClick:postComment,children:\"Post\"})]})]});}/* harmony default export */ var src_Post = (Post_Post);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(124);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Modal/Modal.js + 9 modules\nvar Modal = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Input/Input.js + 6 modules\nvar Input = __webpack_require__(127);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 7 modules\nvar Button = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./src/ImageUpload.css\nvar ImageUpload = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(56);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/axios.js\nvar instance=axios_default.a.create({baseURL:'http://localhost:8080'});/* harmony default export */ var src_axios = (instance);\n// CONCATENATED MODULE: ./src/ImageUpload.js\nfunction ImageUpload_ImageUpload(_ref){var username=_ref.username;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),caption=_useState2[0],setCaption=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),progress=_useState6[0],setProgress=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),url=_useState8[0],setUrl=_useState8[1];var handleChange=function handleChange(e){//this select the file to be uploaded and stored in image\nif(e.target.files[0]){setImage(e.target.files[0]);}};//this upload the image on firebase databse\nvar handleUpload=function handleUpload(){var uploadTask=storage.ref(\"images/\".concat(image.name)).put(image);//here we get into storage and ref and then uploading the image on firebase DB\nuploadTask.on(\"state_changed\",function(snapshot){//progress function ...\n//belowed line is just copied\nvar progress=Math.round(snapshot.bytesTransferred/snapshot.totalBytes*100);setProgress(progress);},function(error){//Error function...\nconsole.log(error);alert(error.message);},function(){storage.ref(\"images\").child(image.name).getDownloadURL().then(function(url){//Getting the link of image uploaded on firebase DB\nsetUrl(url);src_axios.post('/upload',{caption:caption,user:username,image:url});//this gets the link of image uploaded on firebase \ndb.collection(\"posts\").add({//adding the image with caption on firebase Collections DB\ntimestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp(),caption:caption,imageURL:url,username:username});setProgress(0);setCaption(\"\");setImage(null);});//above code gets the link of image uploaded on firebase\n});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"imageupload\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"progress\",{className:\"imageupload__progress\",value:progress,max:\"100\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Enter a Caption...\",onChange:function onChange(event){return setCaption(event.target.value);},value:caption}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"imageUpload__button\",onClick:handleUpload,children:\"Upload\"})]})]});}/* harmony default export */ var src_ImageUpload = (ImageUpload_ImageUpload);\n// EXTERNAL MODULE: ./node_modules/react-instagram-embed/es/index.js\nvar es = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./node_modules/pusher-js/dist/web/pusher.js\nvar web_pusher = __webpack_require__(59);\nvar pusher_default = /*#__PURE__*/__webpack_require__.n(web_pusher);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction getModalStyle(){var top=50;var left=50;return{top:\"\".concat(top,\"%\"),left:\"\".concat(left,\"%\"),transform:\"translate(-\".concat(top,\"%, -\").concat(left,\"%)\")};}var useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{paper:{position:'absolute',width:400,backgroundColor:theme.palette.background.paper,border:'2px solid #000',boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});function App_App(){var classes=useStyles();var _React$useState=react_default.a.useState(getModalStyle),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,1),modalStyle=_React$useState2[0];var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),user=_useState12[0],setUser=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),openSignIn=_useState14[0],setOpenSignIn=_useState14[1];// const [registerOpen, setRegisterOpen] = useState(false);\nObject(react[\"useEffect\"])(function(){var unsubscribe=auth.onAuthStateChanged(function(authUser){if(authUser){// user is logged in...\nconsole.log(authUser);setUser(authUser);if(authUser.displayName){// dont update username\n}else{return authUser.updateProfile({displayName:username});}}else{setUser(null);}});return function(){unsubscribe();};},[user,username]);var fetchPosts=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return src_axios.get(\"/sync\").then(function(response){console.log(response);setPosts(response.data);});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){var pusher=new pusher_default.a('69305f7a54611f242df4',{cluster:'mt1'});var channel=pusher.subscribe('posts');channel.bind('inserted',function(data){console.log(\"data recieved\",data);fetchPosts();});},[]);Object(react[\"useEffect\"])(function(){fetchPosts();},[]);console.log(\"posts are >>>\",posts);var signUp=function signUp(event){event.preventDefault();auth.createUserWithEmailAndPassword(email,password).then(function(authUser){return authUser.user.updateProfile({displayName:username});}).catch(function(error){return alert(error.message);});};var signIn=function signIn(event){event.preventDefault();auth.signInWithEmailAndPassword(email,password).catch(function(error){return alert(error.message);});setOpenSignIn(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{open:open,onClose:function onClose(){return setOpen(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:modalStyle,className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"app__signup\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"center\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{type:\"text\",placeholder:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"email\",type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",onClick:signUp,children:\"Sign Up\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{open:openSignIn,onClose:function onClose(){return setOpenSignIn(false);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:modalStyle,className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"app__login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"center\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"email\",type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{placeholder:\"password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",onClick:signIn,children:\"Login\"})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"app__headerImage\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"\"}),(user===null||user===void 0?void 0:user.displayName)?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app__headerRight\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return auth.signOut();},children:\"Logout\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{className:\"app__headerAvatar\",alt:user.displayName,src:\"/static/images/avatar/1.jpg\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"app__loginHome\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return setOpenSignIn(true);},children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return setOpen(true);},children:\"Sign Up\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app__posts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__postsLeft\",children:posts.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Post,{postId:post._id,user:user,username:post.user,caption:post.caption,imageURL:post.image},post._id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__postsRight\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* default */],{url:\"https://www.instagram.com/p/CLPQDA2hECf/\",clientAccessToken:\"IGQVJYYWlwWDkzVWRPZA2p5cWFUclMxaXZABTFdsNWpBT2Q0YmVPUmFONkE5b3FEdktGTnNJMUoyZADdLVGxQcjRjU05RUjdQYUtDQktJN2xLT3E2TEVtTkNGZAWRTTTJ0aGY2RlE5ckJfWFBHQjdfb1VFUwZDZD\",maxWidth:320,hideCaption:false,containerTagName:\"div\",protocol:\"\",injectScript:true,onLoading:function onLoading(){},onSuccess:function onSuccess(){},onAfterRender:function onAfterRender(){},onFailure:function onFailure(){}})})]}),(user===null||user===void 0?void 0:user.displayName)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__upload\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ImageUpload,{username:user.displayName})}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"center\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Sorry you need to login to upload\"}),\"  \"]})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 130)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[101,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:/REACT/7.Instagram/instagram-clone/src/Firebase.js","D:/REACT/7.Instagram/instagram-clone/src/Post.js","D:/REACT/7.Instagram/instagram-clone/src/axios.js","D:/REACT/7.Instagram/instagram-clone/src/ImageUpload.js","D:/REACT/7.Instagram/instagram-clone/src/App.js","D:/REACT/7.Instagram/instagram-clone/src/reportWebVitals.js","D:/REACT/7.Instagram/instagram-clone/src/index.js","D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REACT\\7.Instagram\\instagram-clone\\src\\index.css","D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REACT\\7.Instagram\\instagram-clone\\src\\App.css","D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REACT\\7.Instagram\\instagram-clone\\src\\Post.css","D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\REACT\\7.Instagram\\instagram-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REACT\\7.Instagram\\instagram-clone\\src\\ImageUpload.css"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseApp","firebase","initializeApp","db","firestore","auth","storage","Post","postId","user","username","caption","imageURL","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","postComment","e","preventDefault","add","text","displayName","timestamp","FieldValue","serverTimestamp","target","value","instance","axios","create","baseURL","ImageUpload","setCaption","image","setImage","progress","setProgress","url","setUrl","handleChange","files","handleUpload","uploadTask","ref","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","post","event","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","React","modalStyle","posts","setPosts","open","setOpen","setUsername","password","setPassword","email","setEmail","setUser","openSignIn","setOpenSignIn","onAuthStateChanged","authUser","updateProfile","fetchPosts","get","response","pusher","Pusher","cluster","channel","subscribe","bind","signUp","createUserWithEmailAndPassword","catch","signIn","signInWithEmailAndPassword","signOut","_id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCHP2i2BbClrFviS_jWfiTai7U5nhfgszo\",\r\n    authDomain: \"instagram-clone-94052.firebaseapp.com\",\r\n    projectId: \"instagram-clone-94052\",\r\n    storageBucket: \"instagram-clone-94052.appspot.com\",\r\n    messagingSenderId: \"1028378616626\",\r\n    appId: \"1:1028378616626:web:f75101ff41cf6739276d2b\"\r\n  };\r\n\r\n\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth =firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db , auth, storage};","import React,{ useState , useEffect} from 'react'\r\nimport './Post.css'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport {db} from './Firebase';\r\nimport firebase from 'firebase';\r\n\r\nfunction Post({ postId, user, username , caption , imageURL}) {\r\n    const [comments, setComments] = useState([]);\r\n    const [comment, setComment] = useState('');\r\n    \r\n    useEffect(() => {\r\n        let unsubscribe;\r\n        if (postId) {\r\n          unsubscribe = db\r\n            .collection(\"posts\")\r\n            .doc(postId)\r\n            .collection(\"comments\")\r\n            .orderBy('timestamp','desc')\r\n            .onSnapshot((snapshot) => {\r\n              setComments(snapshot.docs.map((doc) => doc.data()));\r\n            });\r\n        }\r\n        return () => {\r\n            unsubscribe();\r\n          };\r\n        }, [postId]);\r\n\r\n        const postComment = (e) => {\r\n            e.preventDefault();\r\n      \r\n            db.collection(\"posts\").doc(postId).collection(\"comments\").add({\r\n               text: comment,\r\n              username: user.displayName,\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n             });\r\n             setComment(\"\");\r\n          };\r\n    return (\r\n        <div className=\"post\">\r\n        <div className=\"post__header\">\r\n        <Avatar className=\"post__avatar\"\r\n            alt={username}\r\n            src=\"/static/images/avatar/1.jpg\"\r\n        />\r\n            <h3>{username}</h3>\r\n            </div>\r\n            <img className=\"post__image\"\r\n             src={imageURL} alt=\"post\" />\r\n\r\n             <h4 className=\"post__text\"><strong>{username}  </strong><span className=\"post__caption\">{caption}</span> </h4>\r\n             \r\n             <div className=\"post__comments\">\r\n          {comments.map((comment) => (\r\n            <p>\r\n              <b>{comment.username}</b> {comment.text}\r\n            </p>\r\n          ))}\r\n        </div>\r\n             \r\n             {user &&(\r\n                <form className=\"post__commentBox\">\r\n                 <input \r\n                     className=\"post__input\"\r\n                     type=\"text\"\r\n                     placeholder=\"Add a comment...\"\r\n                     value={comment}\r\n                     onChange={(e) => setComment(e.target.value)}\r\n                 />\r\n\r\n\r\n             <button\r\n              disabled={!comment}\r\n              className=\"post__button\"\r\n              type=\"submit\"\r\n              onClick={postComment} >\r\n              Post\r\n              </button>\r\n              </form>\r\n             )}\r\n             \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:8080'\r\n})\r\n\r\nexport default instance;\r\n","import { Button } from '@material-ui/core';\r\nimport React,{useState} from 'react';\r\nimport {storage, db } from './Firebase';\r\nimport firebase from 'firebase';\r\nimport './ImageUpload.css';\r\nimport axios from './axios';\r\n\r\nfunction ImageUpload({username}) {\r\n    const [caption,setCaption] = useState('');\r\n    const [image,setImage] = useState(null);\r\n    const [progress,setProgress] = useState(0);\r\n    const [url,setUrl] = useState(\"\");\r\n    \r\n    const handleChange = (e) => {       //this select the file to be uploaded and stored in image\r\n        if(e.target.files[0]){\r\n            setImage(e.target.files[0]);\r\n        }\r\n    }\r\n    \r\n    //this upload the image on firebase databse\r\n    const handleUpload = () => {\r\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);    //here we get into storage and ref and then uploading the image on firebase DB\r\n\r\n    uploadTask.on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n            //progress function ...\r\n            //belowed line is just copied\r\n            const progress = Math.round(\r\n                (snapshot.bytesTransferred / snapshot.totalBytes)*100\r\n            );\r\n            setProgress(progress);\r\n        },\r\n        (error) => {\r\n            //Error function...\r\n            console.log(error);\r\n            alert(error.message);\r\n        },\r\n        () => {\r\n            storage\r\n             .ref(\"images\")\r\n             .child(image.name)\r\n             .getDownloadURL()\r\n             .then((url) => {      //Getting the link of image uploaded on firebase DB\r\n\r\n                setUrl(url);\r\n\r\n                axios.post('/upload',{         \r\n                  caption: caption,\r\n                  user: username,\r\n                  image: url\r\n                });\r\n                 //this gets the link of image uploaded on firebase \r\n                 db.collection(\"posts\").add({                       //adding the image with caption on firebase Collections DB\r\n                     timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n                     caption: caption,\r\n                     imageURL: url,\r\n                     username: username,\r\n                 })\r\n                 setProgress(0);\r\n                 setCaption(\"\");\r\n                 setImage(null);\r\n             });\r\n             //above code gets the link of image uploaded on firebase\r\n\r\n            \r\n        }\r\n    );\r\n    };\r\n\r\n    return (\r\n        <div className=\"imageupload\">\r\n            <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\r\n            <input type=\"text\" placeholder=\"Enter a Caption...\" onChange={event => setCaption(event.target.value)} value={caption}/>\r\n            <div>   \r\n            <input type=\"file\" onChange={handleChange}/>\r\n            <Button className=\"imageUpload__button\" onClick={handleUpload}>\r\n                Upload\r\n            </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUpload\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Post from './Post';\nimport { auth, db } from './Firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input, Avatar } from '@material-ui/core';\nimport ImageUpload from './ImageUpload';\nimport InstagramEmbed from 'react-instagram-embed';\nimport axios from './axios';\nimport Pusher from 'pusher-js';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [modalStyle] = React.useState(getModalStyle);\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [user, setUser] = useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  // const [registerOpen, setRegisterOpen] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        // user is logged in...\n        console.log(authUser);\n        setUser(authUser);\n\n        if (authUser.displayName) {\n          // dont update username\n        } else {\n          return authUser.updateProfile({\n            displayName: username,\n          });\n        }\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [user, username]);\n  \n  const fetchPosts = async () =>\n  await axios.get(\"/sync\").then((response) => { \n    console.log(response);\n    setPosts(response.data);\n  });\n\n  useEffect(() => {\n    const pusher = new Pusher('69305f7a54611f242df4', {\n      cluster: 'mt1'\n    });\n\n    const channel= pusher.subscribe('posts');\n    channel.bind('inserted', (data) => {\n     console.log(\"data recieved\",data);\n     fetchPosts();\n    });\n  },[]);\n  \n  useEffect(() => {\n    fetchPosts();\n  }, []);\n  \n   console.log(\"posts are >>>\",posts); \n\n  const signUp = (event) => {\n    event.preventDefault();\n\n    auth.createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username\n        })\n      })\n      .catch((error) => alert(error.message))\n  }\n\n  const signIn = (event) => {\n    event.preventDefault();\n\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message))\n\n    setOpenSignIn(false);\n  }\n  return (\n    <div className=\"app\">\n\n\n\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n            <Input\n              type=\"text\"\n              placeholder=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signUp}>Sign Up</Button>\n          </form>\n\n\n        </div>\n      </Modal>\n\n      <Modal\n        open={openSignIn}\n        onClose={() => setOpenSignIn(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__login\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signIn}>Login</Button>\n          </form>\n\n\n        </div>\n      </Modal>\n      <div className=\"app__header\">\n        <img className=\"app__headerImage\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n          alt=\"\"\n        />\n     {user?.displayName ? (\n          <div className=\"app__headerRight\">\n            <Button onClick={() => auth.signOut()}>Logout</Button>\n            <Avatar\n              className=\"app__headerAvatar\"\n              alt={user.displayName}\n              src=\"/static/images/avatar/1.jpg\"\n            />\n          </div>\n        ) : (\n          <form className=\"app__loginHome\">\n            <Button onClick={() => setOpenSignIn(true)}>Login</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </form>\n        )}\n      </div>\n\n\n      <div className=\"app__posts\">\n        <div className=\"app__postsLeft\">\n          {posts.map((post) => (\n            <Post key={post._id} postId={post._id}  user={user} username={post.user} caption={post.caption} imageURL={post.image} />\n          ))}\n        </div>\n        <div className=\"app__postsRight\">\n          {/* <h1> Embed</h1> */}\n          <InstagramEmbed\n            url='https://www.instagram.com/p/CLPQDA2hECf/'\n            clientAccessToken='IGQVJYYWlwWDkzVWRPZA2p5cWFUclMxaXZABTFdsNWpBT2Q0YmVPUmFONkE5b3FEdktGTnNJMUoyZADdLVGxQcjRjU05RUjdQYUtDQktJN2xLT3E2TEVtTkNGZAWRTTTJ0aGY2RlE5ckJfWFBHQjdfb1VFUwZDZD'\n            maxWidth={320}\n            hideCaption={false}\n            containerTagName='div'\n            protocol=''\n            injectScript\n            onLoading={() => { }}\n            onSuccess={() => { }}\n            onAfterRender={() => { }}\n            onFailure={() => { }}\n          />\n        </div>\n\n      </div>\n\n\n      {user?.displayName ? (\n        <div className=\"app__upload\">\n        <ImageUpload username={user.displayName} />\n        </div>\n      ) : (\n        <center><h3>Sorry you need to login to upload</h3>  </center>\n        \n      )}\n\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}