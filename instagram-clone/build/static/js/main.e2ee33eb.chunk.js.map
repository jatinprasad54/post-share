{"version":3,"sources":["Firebase.js","Post.js","axios.js","ImageUpload.js","App.js","reportWebVitals.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","Post","postId","user","username","caption","imageURL","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","className","Avatar","alt","src","text","type","placeholder","value","onChange","e","target","disabled","onClick","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","instance","axios","create","baseURL","ImageUpload","setCaption","image","setImage","progress","setProgress","setUrl","max","event","files","Button","ref","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","post","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","React","modalStyle","posts","setPosts","open","setOpen","setUsername","password","setPassword","email","setEmail","setUser","openSignIn","setOpenSignIn","onAuthStateChanged","authUser","updateProfile","fetchPosts","a","get","response","Pusher","cluster","subscribe","bind","Modal","onClose","style","Input","createUserWithEmailAndPassword","catch","signInWithEmailAndPassword","signOut","_id","clientAccessToken","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e2ee33eb.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCHP2i2BbClrFviS_jWfiTai7U5nhfgszo\",\r\n    authDomain: \"instagram-clone-94052.firebaseapp.com\",\r\n    projectId: \"instagram-clone-94052\",\r\n    storageBucket: \"instagram-clone-94052.appspot.com\",\r\n    messagingSenderId: \"1028378616626\",\r\n    appId: \"1:1028378616626:web:f75101ff41cf6739276d2b\"\r\n  };\r\n\r\n\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth =firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db , auth, storage};","import React,{ useState , useEffect} from 'react'\r\nimport './Post.css'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport {db} from './Firebase';\r\nimport firebase from 'firebase';\r\n\r\nfunction Post({ postId, user, username , caption , imageURL}) {\r\n    const [comments, setComments] = useState([]);\r\n    const [comment, setComment] = useState('');\r\n    \r\n    useEffect(() => {\r\n        let unsubscribe;\r\n        if (postId) {\r\n          unsubscribe = db\r\n            .collection(\"posts\")\r\n            .doc(postId)\r\n            .collection(\"comments\")\r\n            .orderBy('timestamp','desc')\r\n            .onSnapshot((snapshot) => {\r\n              setComments(snapshot.docs.map((doc) => doc.data()));\r\n            });\r\n        }\r\n        return () => {\r\n            unsubscribe();\r\n          };\r\n        }, [postId]);\r\n\r\n        const postComment = (e) => {\r\n            e.preventDefault();\r\n      \r\n            db.collection(\"posts\").doc(postId).collection(\"comments\").add({\r\n               text: comment,\r\n              username: user.displayName,\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n             });\r\n             setComment(\"\");\r\n          };\r\n    return (\r\n        <div className=\"post\">\r\n        <div className=\"post__header\">\r\n        <Avatar className=\"post__avatar\"\r\n            alt={username}\r\n            src=\"/static/images/avatar/1.jpg\"\r\n        />\r\n            <h3>{username}</h3>\r\n            </div>\r\n            <img className=\"post__image\"\r\n             src={imageURL} alt=\"post\" />\r\n\r\n             <h4 className=\"post__text\"><strong>{username}  </strong><span className=\"post__caption\">{caption}</span> </h4>\r\n             \r\n             <div className=\"post__comments\">\r\n          {comments.map((comment) => (\r\n            <p>\r\n              <b>{comment.username}</b> {comment.text}\r\n            </p>\r\n          ))}\r\n        </div>\r\n             \r\n             {user &&(\r\n                <form className=\"post__commentBox\">\r\n                 <input \r\n                     className=\"post__input\"\r\n                     type=\"text\"\r\n                     placeholder=\"Add a comment...\"\r\n                     value={comment}\r\n                     onChange={(e) => setComment(e.target.value)}\r\n                 />\r\n\r\n\r\n             <button\r\n              disabled={!comment}\r\n              className=\"post__button\"\r\n              type=\"submit\"\r\n              onClick={postComment} >\r\n              Post\r\n              </button>\r\n              </form>\r\n             )}\r\n             \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://gorgeous-kings-canyon-63792.herokuapp.com/'\r\n})\r\n\r\nexport default instance;\r\n","import { Button } from '@material-ui/core';\r\nimport React,{useState} from 'react';\r\nimport {storage, db } from './Firebase';\r\nimport firebase from 'firebase';\r\nimport './ImageUpload.css';\r\nimport axios from './axios';\r\n\r\nfunction ImageUpload({username}) {\r\n    const [caption,setCaption] = useState('');\r\n    const [image,setImage] = useState(null);\r\n    const [progress,setProgress] = useState(0);\r\n    const [url,setUrl] = useState(\"\");\r\n    \r\n    const handleChange = (e) => {       //this select the file to be uploaded and stored in image\r\n        if(e.target.files[0]){\r\n            setImage(e.target.files[0]);\r\n        }\r\n    }\r\n    \r\n    //this upload the image on firebase databse\r\n    const handleUpload = () => {\r\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);    //here we get into storage and ref and then uploading the image on firebase DB\r\n\r\n    uploadTask.on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n            //progress function ...\r\n            //belowed line is just copied\r\n            const progress = Math.round(\r\n                (snapshot.bytesTransferred / snapshot.totalBytes)*100\r\n            );\r\n            setProgress(progress);\r\n        },\r\n        (error) => {\r\n            //Error function...\r\n            console.log(error);\r\n            alert(error.message);\r\n        },\r\n        () => {\r\n            storage\r\n             .ref(\"images\")\r\n             .child(image.name)\r\n             .getDownloadURL()\r\n             .then((url) => {      //Getting the link of image uploaded on firebase DB\r\n\r\n                setUrl(url);\r\n\r\n                axios.post('/upload',{         \r\n                  caption: caption,\r\n                  user: username,\r\n                  image: url\r\n                });\r\n                 //this gets the link of image uploaded on firebase \r\n                 db.collection(\"posts\").add({                       //adding the image with caption on firebase Collections DB\r\n                     timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n                     caption: caption,\r\n                     imageURL: url,\r\n                     username: username,\r\n                 })\r\n                 setProgress(0);\r\n                 setCaption(\"\");\r\n                 setImage(null);\r\n             });\r\n             //above code gets the link of image uploaded on firebase\r\n\r\n            \r\n        }\r\n    );\r\n    };\r\n\r\n    return (\r\n        <div className=\"imageupload\">\r\n            <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\r\n            <input type=\"text\" placeholder=\"Enter a Caption...\" onChange={event => setCaption(event.target.value)} value={caption}/>\r\n            <div>   \r\n            <input type=\"file\" onChange={handleChange}/>\r\n            <Button className=\"imageUpload__button\" onClick={handleUpload}>\r\n                Upload\r\n            </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUpload\r\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Post from './Post';\nimport { auth, db } from './Firebase';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input, Avatar } from '@material-ui/core';\nimport ImageUpload from './ImageUpload';\nimport InstagramEmbed from 'react-instagram-embed';\nimport axios from './axios';\nimport Pusher from 'pusher-js';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [modalStyle] = React.useState(getModalStyle);\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [user, setUser] = useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  // const [registerOpen, setRegisterOpen] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        // user is logged in...\n        console.log(authUser);\n        setUser(authUser);\n\n        if (authUser.displayName) {\n          // dont update username\n        } else {\n          return authUser.updateProfile({\n            displayName: username,\n          });\n        }\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [user, username]);\n  \n  const fetchPosts = async () =>\n  await axios.get(\"/sync\").then((response) => { \n    console.log(response);\n    setPosts(response.data);\n  });\n\n  useEffect(() => {\n    const pusher = new Pusher('69305f7a54611f242df4', {\n      cluster: 'mt1'\n    });\n\n    const channel= pusher.subscribe('posts');\n    channel.bind('inserted', (data) => {\n     console.log(\"data recieved\",data);\n     fetchPosts();\n    });\n  },[]);\n  \n  useEffect(() => {\n    fetchPosts();\n  }, []);\n  \n   console.log(\"posts are >>>\",posts); \n\n  const signUp = (event) => {\n    event.preventDefault();\n\n    auth.createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username\n        })\n      })\n      .catch((error) => alert(error.message))\n  }\n\n  const signIn = (event) => {\n    event.preventDefault();\n\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message))\n\n    setOpenSignIn(false);\n  }\n  return (\n    <div className=\"app\">\n\n\n\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n            <Input\n              type=\"text\"\n              placeholder=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signUp}>Sign Up</Button>\n          </form>\n\n\n        </div>\n      </Modal>\n\n      <Modal\n        open={openSignIn}\n        onClose={() => setOpenSignIn(false)}\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__login\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button type=\"submit\" onClick={signIn}>Login</Button>\n          </form>\n\n\n        </div>\n      </Modal>\n      <div className=\"app__header\">\n        <img className=\"app__headerImage\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n          alt=\"\"\n        />\n     {user?.displayName ? (\n          <div className=\"app__headerRight\">\n            <Button onClick={() => auth.signOut()}>Logout</Button>\n            <Avatar\n              className=\"app__headerAvatar\"\n              alt={user.displayName}\n              src=\"/static/images/avatar/1.jpg\"\n            />\n          </div>\n        ) : (\n          <form className=\"app__loginHome\">\n            <Button onClick={() => setOpenSignIn(true)}>Login</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </form>\n        )}\n      </div>\n\n\n      <div className=\"app__posts\">\n        <div className=\"app__postsLeft\">\n          {posts.map((post) => (\n            <Post key={post._id} postId={post._id}  user={user} username={post.user} caption={post.caption} imageURL={post.image} />\n          ))}\n        </div>\n        <div className=\"app__postsRight\">\n          {/* <h1> Embed</h1> */}\n          <InstagramEmbed\n            url='https://www.instagram.com/p/CLPQDA2hECf/'\n            clientAccessToken='IGQVJYYWlwWDkzVWRPZA2p5cWFUclMxaXZABTFdsNWpBT2Q0YmVPUmFONkE5b3FEdktGTnNJMUoyZADdLVGxQcjRjU05RUjdQYUtDQktJN2xLT3E2TEVtTkNGZAWRTTTJ0aGY2RlE5ckJfWFBHQjdfb1VFUwZDZD'\n            maxWidth={320}\n            hideCaption={false}\n            containerTagName='div'\n            protocol=''\n            injectScript\n            onLoading={() => { }}\n            onSuccess={() => { }}\n            onAfterRender={() => { }}\n            onFailure={() => { }}\n          />\n        </div>\n\n      </div>\n\n\n      {user?.displayName ? (\n        <div className=\"app__upload\">\n        <ImageUpload username={user.displayName} />\n        </div>\n      ) : (\n        <center><h3>Sorry you need to login to upload</h3>  </center>\n        \n      )}\n\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}